<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>No016</title>
</head>
<body>
<div style="margin: auto; width: 600px;">
    <input type="text">
    <button id="left_in">左侧入</button> <button id="right_in">右侧入</button>
    &nbsp;&nbsp;
    <button id="left_out">左侧出</button> <button id="right_out">右侧出</button>
</div>
<script type="text/javascript">
    (function(){
        var container= document.createElement("div");
        container.setAttribute("id","container");
        container.style.height = "40px";
        container.style.width = "600px";
        container.style.margin = "auto";
        document.getElementsByTagName("body")[0].appendChild(container);
    }());
    function create_div(num){
        if(!num){
            alert("请输入值！");
            return;
        }
        if(isNaN(num)){
            alert("请输入数字！");
            num="";
            return;
        }
        var new_div = document.createElement("div");
        new_div.style.height = "30px";
        new_div.style.backgroundColor = "red";
        new_div.style.margin = "5px";
        new_div.style.padding = "0 5px";
        new_div.style.color = "white";
        new_div.style.float = "left";
        new_div.style.textAlign = "center";
        new_div.style.lineHeight = "30px";
        var text = document.createTextNode(num);
        new_div.appendChild(text);
        new_div.onclick = remove_self;
        return new_div;
    }
    function right_in(){
        var input = document.getElementsByTagName("input")[0].value;
        document.getElementById("container").appendChild(create_div(input));
        document.getElementsByTagName("input")[0].value = "";
    }
    function left_in(){
        var input = document.getElementsByTagName("input")[0].value;
        var first_child = document.getElementById("container").firstChild;
        document.getElementById("container").insertBefore(create_div(input),first_child);
        document.getElementsByTagName("input")[0].value = "";
    }
    function left_out(){
        var container = document.getElementById("container");
        if(!container.firstChild){
            alert("没有可以删除的节点！");
            return;
        }
        alert("你删除的是："+container.firstChild.innerHTML);
        container.removeChild(container.firstChild);
    }
    function right_out(){
        var container = document.getElementById("container");
        if(!container.lastChild){
            alert("没有可以删除的节点！");
            return;
        }
        alert("你删除的是："+container.lastChild.innerHTML);
        container.removeChild(container.lastChild);
    }
    function remove_self() {
        alert("你删除的是："+this.innerHTML);
        this.remove(this);
    }
    document.getElementById("left_in").onclick = left_in;
    document.getElementById("right_in").onclick = right_in;
    document.getElementById("left_out").onclick = left_out;
    document.getElementById("right_out").onclick = right_out;
</script>
</body>
</html>